{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\build-youtube-final-code\\\\client\\\\src\\\\components\\\\UploadVideoModal.js\";\nimport React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSnackbar } from \"react-simple-snackbar\";\nimport { useAuth } from \"../context/auth-context\";\nimport Button from \"../styles/Button\";\nimport Wrapper from \"../styles/UploadVideoModal\";\nimport { addVideo } from \"../utils/api-client\";\nimport { CloseIcon } from \"./Icons\";\nimport VideoPlayer from \"./VideoPlayer\";\n\nfunction UploadVideoModal({\n  previewVideo,\n  thumbnail,\n  url,\n  defaultTitle,\n  closeModal\n}) {\n  const user = useAuth();\n  const history = useHistory();\n  const [openSnackbar] = useSnackbar();\n  const [tab, setTab] = React.useState(\"PREVIEW\");\n  const [title, setTitle] = React.useState(defaultTitle);\n  const [description, setDescription] = React.useState(\"\");\n\n  async function handleTab() {\n    if (tab === \"PREVIEW\") {\n      setTab(\"FORM\");\n    } else {\n      if (!title.trim() || !description.trim()) {\n        return openSnackbar(\"Please fill in all the fields\");\n      }\n\n      const video = {\n        title,\n        description,\n        url,\n        thumbnail\n      };\n      await addVideo(video);\n      closeModal();\n      openSnackbar(\"Video published!\");\n      history.push(`/channel/${user.id}`);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CloseIcon, {\n    onClick: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, url ? \"Video Uploaded!\" : \"Uploading...\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: url ? \"block\" : \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleTab,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, tab === \"PREVIEW\" ? \"Next\" : \"Upload\"))), tab === \"PREVIEW\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tab video-preview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(VideoPlayer, {\n    previewUrl: previewVideo,\n    video: url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  })), tab === \"FORM\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tab video-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"Video Details\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter your video title\",\n    value: title,\n    onChange: event => setTitle(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    placeholder: \"Tell viewers about your video\",\n    value: description,\n    onChange: event => setDescription(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }))));\n}\n\nexport default UploadVideoModal;","map":{"version":3,"sources":["C:/Users/User/Desktop/build-youtube-final-code/client/src/components/UploadVideoModal.js"],"names":["React","useHistory","useSnackbar","useAuth","Button","Wrapper","addVideo","CloseIcon","VideoPlayer","UploadVideoModal","previewVideo","thumbnail","url","defaultTitle","closeModal","user","history","openSnackbar","tab","setTab","useState","title","setTitle","description","setDescription","handleTab","trim","video","push","id","display","event","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSnackbar } from \"react-simple-snackbar\";\nimport { useAuth } from \"../context/auth-context\";\nimport Button from \"../styles/Button\";\nimport Wrapper from \"../styles/UploadVideoModal\";\nimport { addVideo } from \"../utils/api-client\";\nimport { CloseIcon } from \"./Icons\";\nimport VideoPlayer from \"./VideoPlayer\";\n\nfunction UploadVideoModal({\n  previewVideo,\n  thumbnail,\n  url,\n  defaultTitle,\n  closeModal,\n}) {\n  const user = useAuth();\n  const history = useHistory();\n  const [openSnackbar] = useSnackbar();\n  const [tab, setTab] = React.useState(\"PREVIEW\");\n  const [title, setTitle] = React.useState(defaultTitle);\n  const [description, setDescription] = React.useState(\"\");\n\n  async function handleTab() {\n    if (tab === \"PREVIEW\") {\n      setTab(\"FORM\");\n    } else {\n      if (!title.trim() || !description.trim()) {\n        return openSnackbar(\"Please fill in all the fields\");\n      }\n\n      const video = {\n        title,\n        description,\n        url,\n        thumbnail,\n      };\n\n      await addVideo(video);\n      closeModal();\n      openSnackbar(\"Video published!\");\n      history.push(`/channel/${user.id}`);\n    }\n  }\n\n  return (\n    <Wrapper>\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <div className=\"modal-header-left\">\n            <CloseIcon onClick={closeModal} />\n            <h3>{url ? \"Video Uploaded!\" : \"Uploading...\"}</h3>\n          </div>\n          <div style={{ display: url ? \"block\" : \"none\" }}>\n            <Button onClick={handleTab}>\n              {tab === \"PREVIEW\" ? \"Next\" : \"Upload\"}\n            </Button>\n          </div>\n        </div>\n\n        {tab === \"PREVIEW\" && (\n          <div className=\"tab video-preview\">\n            <VideoPlayer previewUrl={previewVideo} video={url} />\n          </div>\n        )}\n\n        {tab === \"FORM\" && (\n          <div className=\"tab video-form\">\n            <h2>Video Details</h2>\n            <input\n              type=\"text\"\n              placeholder=\"Enter your video title\"\n              value={title}\n              onChange={(event) => setTitle(event.target.value)}\n            />\n            <textarea\n              placeholder=\"Tell viewers about your video\"\n              value={description}\n              onChange={(event) => setDescription(event.target.value)}\n            />\n          </div>\n        )}\n      </div>\n    </Wrapper>\n  );\n}\n\nexport default UploadVideoModal;\n"]},"metadata":{},"sourceType":"module"}
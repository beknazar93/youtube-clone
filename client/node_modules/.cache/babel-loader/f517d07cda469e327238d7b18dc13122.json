{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\build-youtube-final-code\\\\client\\\\src\\\\components\\\\VideoPlayer.js\";\nimport React from \"react\";\nimport videojs from \"video.js\";\nimport \"video.js/dist/video-js.css\";\nimport { addVideoView } from \"../utils/api-client\";\n\nfunction VideoPlayer({\n  previewUrl,\n  video\n}) {\n  const videoRef = React.useRef();\n  const {\n    id,\n    url,\n    thumbnail\n  } = video;\n  React.useEffect(() => {\n    const vjsPlayer = videojs(videoRef.current);\n\n    if (!previewUrl) {\n      vjsPlayer.poster(thumbnail);\n      vjsPlayer.src(url);\n    }\n\n    if (previewUrl) {\n      vjsPlayer.src({\n        type: \"video/mp4\",\n        src: previewUrl\n      });\n    }\n\n    vjsPlayer.on(\"ended\", () => {\n      addVideoView(id);\n    });\n    return () => {\n      if (vjsPlayer) {\n        vjsPlayer.dispose();\n      }\n    };\n  }, [id, thumbnail, url, previewUrl]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-vjs-player\": true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"video\", {\n    controls: true,\n    ref: videoRef,\n    className: \"video-js vjs-fluid vjs-big-play-centered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default VideoPlayer;","map":{"version":3,"sources":["C:/Users/User/Desktop/build-youtube-final-code/client/src/components/VideoPlayer.js"],"names":["React","videojs","addVideoView","VideoPlayer","previewUrl","video","videoRef","useRef","id","url","thumbnail","useEffect","vjsPlayer","current","poster","src","type","on","dispose"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,UAApB;AACA,OAAO,4BAAP;AACA,SAASC,YAAT,QAA6B,qBAA7B;;AAEA,SAASC,WAAT,CAAqB;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAArB,EAA4C;AAC1C,QAAMC,QAAQ,GAAGN,KAAK,CAACO,MAAN,EAAjB;AAEA,QAAM;AAAEC,IAAAA,EAAF;AAAMC,IAAAA,GAAN;AAAWC,IAAAA;AAAX,MAAyBL,KAA/B;AAEAL,EAAAA,KAAK,CAACW,SAAN,CAAgB,MAAM;AACpB,UAAMC,SAAS,GAAGX,OAAO,CAACK,QAAQ,CAACO,OAAV,CAAzB;;AAEA,QAAI,CAACT,UAAL,EAAiB;AACfQ,MAAAA,SAAS,CAACE,MAAV,CAAiBJ,SAAjB;AACAE,MAAAA,SAAS,CAACG,GAAV,CAAcN,GAAd;AACD;;AAED,QAAIL,UAAJ,EAAgB;AACdQ,MAAAA,SAAS,CAACG,GAAV,CAAc;AAAEC,QAAAA,IAAI,EAAE,WAAR;AAAqBD,QAAAA,GAAG,EAAEX;AAA1B,OAAd;AACD;;AAEDQ,IAAAA,SAAS,CAACK,EAAV,CAAa,OAAb,EAAsB,MAAM;AAC1Bf,MAAAA,YAAY,CAACM,EAAD,CAAZ;AACD,KAFD;AAIA,WAAO,MAAM;AACX,UAAII,SAAJ,EAAe;AACbA,QAAAA,SAAS,CAACM,OAAV;AACD;AACF,KAJD;AAKD,GArBD,EAqBG,CAACV,EAAD,EAAKE,SAAL,EAAgBD,GAAhB,EAAqBL,UAArB,CArBH;AAuBA,sBACE;AAAK,2BAAL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,QAAQ,MADV;AAEE,IAAA,GAAG,EAAEE,QAFP;AAGE,IAAA,SAAS,EAAC,0CAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AASD;;AAED,eAAeH,WAAf","sourcesContent":["import React from \"react\";\nimport videojs from \"video.js\";\nimport \"video.js/dist/video-js.css\";\nimport { addVideoView } from \"../utils/api-client\";\n\nfunction VideoPlayer({ previewUrl, video }) {\n  const videoRef = React.useRef();\n\n  const { id, url, thumbnail } = video;\n\n  React.useEffect(() => {\n    const vjsPlayer = videojs(videoRef.current);\n\n    if (!previewUrl) {\n      vjsPlayer.poster(thumbnail);\n      vjsPlayer.src(url);\n    }\n\n    if (previewUrl) {\n      vjsPlayer.src({ type: \"video/mp4\", src: previewUrl });\n    }\n\n    vjsPlayer.on(\"ended\", () => {\n      addVideoView(id);\n    });\n\n    return () => {\n      if (vjsPlayer) {\n        vjsPlayer.dispose();\n      }\n    };\n  }, [id, thumbnail, url, previewUrl]);\n\n  return (\n    <div data-vjs-player>\n      <video\n        controls\n        ref={videoRef}\n        className=\"video-js vjs-fluid vjs-big-play-centered\"\n      ></video>\n    </div>\n  );\n}\n\nexport default VideoPlayer;\n"]},"metadata":{},"sourceType":"module"}
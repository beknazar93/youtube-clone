{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\build-youtube-final-code\\\\client\\\\src\\\\pages\\\\SearchResults.js\";\n// @ts-nocheck\nimport React from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useParams } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport NoResults from \"../components/NoResults\";\nimport Wrapper from \"../styles/Trending\";\nimport Skeleton from \"../skeletons/TrendingSkeleton\";\nimport { client } from \"../utils/api-client\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport ChannelInfo from \"../components/ChannelInfo\";\nimport TrendingCard from \"../components/TrendingCard\";\nconst StyledChannels = styled.div`\n  margin-top: 1rem;\n`;\n\nfunction SearchResults() {\n  var _data$videos, _data$users;\n\n  const {\n    searchQuery\n  } = useParams();\n  const {\n    data,\n    isLoading,\n    isError,\n    error,\n    isSuccess\n  } = useQuery([\"SearchResults\", searchQuery], async () => {\n    const users = await client.get(`/users/search?query=${searchQuery}`).then(res => res.data.users);\n    const videos = await client.get(`/videos/search?query=${searchQuery}`).then(res => res.data.videos);\n    return {\n      users,\n      videos\n    };\n  });\n  if (isLoading) return /*#__PURE__*/React.createElement(Skeleton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 25\n    }\n  });\n  if (isError) return /*#__PURE__*/React.createElement(ErrorMessage, {\n    error: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 23\n    }\n  });\n\n  if (isSuccess && !((_data$videos = data.videos) === null || _data$videos === void 0 ? void 0 : _data$videos.length) && !((_data$users = data.users) === null || _data$users === void 0 ? void 0 : _data$users.length)) {\n    return /*#__PURE__*/React.createElement(NoResults, {\n      title: \"No results found\",\n      text: \"Try different keywords or remove search filters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, \"Search Results\"), /*#__PURE__*/React.createElement(StyledChannels, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, isSuccess ? data.users.map(channel => /*#__PURE__*/React.createElement(ChannelInfo, {\n    key: channel.id,\n    channel: channel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  })) : null), isSuccess ? data.videos.map(video => /*#__PURE__*/React.createElement(TrendingCard, {\n    key: video.id,\n    video: video,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  })) : null);\n}\n\nexport default SearchResults;","map":{"version":3,"sources":["C:/Users/User/Desktop/build-youtube-final-code/client/src/pages/SearchResults.js"],"names":["React","useQuery","useParams","styled","NoResults","Wrapper","Skeleton","client","ErrorMessage","ChannelInfo","TrendingCard","StyledChannels","div","SearchResults","searchQuery","data","isLoading","isError","error","isSuccess","users","get","then","res","videos","length","map","channel","id","video"],"mappings":";AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,SAASC,MAAT,QAAuB,qBAAvB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AAEA,MAAMC,cAAc,GAAGR,MAAM,CAACS,GAAI;AAClC;AACA,CAFA;;AAIA,SAASC,aAAT,GAAyB;AAAA;;AACvB,QAAM;AAAEC,IAAAA;AAAF,MAAkBZ,SAAS,EAAjC;AACA,QAAM;AAAEa,IAAAA,IAAF;AAAQC,IAAAA,SAAR;AAAmBC,IAAAA,OAAnB;AAA4BC,IAAAA,KAA5B;AAAmCC,IAAAA;AAAnC,MAAiDlB,QAAQ,CAC7D,CAAC,eAAD,EAAkBa,WAAlB,CAD6D,EAE7D,YAAY;AACV,UAAMM,KAAK,GAAG,MAAMb,MAAM,CACvBc,GADiB,CACZ,uBAAsBP,WAAY,EADtB,EAEjBQ,IAFiB,CAEXC,GAAD,IAASA,GAAG,CAACR,IAAJ,CAASK,KAFN,CAApB;AAGA,UAAMI,MAAM,GAAG,MAAMjB,MAAM,CACxBc,GADkB,CACb,wBAAuBP,WAAY,EADtB,EAElBQ,IAFkB,CAEZC,GAAD,IAASA,GAAG,CAACR,IAAJ,CAASS,MAFL,CAArB;AAGA,WAAO;AAAEJ,MAAAA,KAAF;AAASI,MAAAA;AAAT,KAAP;AACD,GAV4D,CAA/D;AAaA,MAAIR,SAAJ,EAAe,oBAAO,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACf,MAAIC,OAAJ,EAAa,oBAAO,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAEC,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;;AAEb,MAAIC,SAAS,IAAI,kBAACJ,IAAI,CAACS,MAAN,iDAAC,aAAaC,MAAd,CAAb,IAAqC,iBAACV,IAAI,CAACK,KAAN,gDAAC,YAAYK,MAAb,CAAzC,EAA8D;AAC5D,wBACE,oBAAC,SAAD;AACE,MAAA,KAAK,EAAC,kBADR;AAEE,MAAA,IAAI,EAAC,iDAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAMD;;AAED,sBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGN,SAAS,GACNJ,IAAI,CAACK,KAAL,CAAWM,GAAX,CAAgBC,OAAD,iBACb,oBAAC,WAAD;AAAa,IAAA,GAAG,EAAEA,OAAO,CAACC,EAA1B;AAA8B,IAAA,OAAO,EAAED,OAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADM,GAIN,IALN,CAFF,EASGR,SAAS,GACNJ,IAAI,CAACS,MAAL,CAAYE,GAAZ,CAAiBG,KAAD,iBACd,oBAAC,YAAD;AAAc,IAAA,GAAG,EAAEA,KAAK,CAACD,EAAzB;AAA6B,IAAA,KAAK,EAAEC,KAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADM,GAIN,IAbN,CADF;AAiBD;;AAED,eAAehB,aAAf","sourcesContent":["// @ts-nocheck\nimport React from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useParams } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport NoResults from \"../components/NoResults\";\nimport Wrapper from \"../styles/Trending\";\nimport Skeleton from \"../skeletons/TrendingSkeleton\";\nimport { client } from \"../utils/api-client\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport ChannelInfo from \"../components/ChannelInfo\";\nimport TrendingCard from \"../components/TrendingCard\";\n\nconst StyledChannels = styled.div`\n  margin-top: 1rem;\n`;\n\nfunction SearchResults() {\n  const { searchQuery } = useParams();\n  const { data, isLoading, isError, error, isSuccess } = useQuery(\n    [\"SearchResults\", searchQuery],\n    async () => {\n      const users = await client\n        .get(`/users/search?query=${searchQuery}`)\n        .then((res) => res.data.users);\n      const videos = await client\n        .get(`/videos/search?query=${searchQuery}`)\n        .then((res) => res.data.videos);\n      return { users, videos };\n    }\n  );\n\n  if (isLoading) return <Skeleton />;\n  if (isError) return <ErrorMessage error={error} />;\n\n  if (isSuccess && !data.videos?.length && !data.users?.length) {\n    return (\n      <NoResults\n        title=\"No results found\"\n        text=\"Try different keywords or remove search filters\"\n      />\n    );\n  }\n\n  return (\n    <Wrapper>\n      <h2>Search Results</h2>\n      <StyledChannels>\n        {isSuccess\n          ? data.users.map((channel) => (\n              <ChannelInfo key={channel.id} channel={channel} />\n            ))\n          : null}\n      </StyledChannels>\n      {isSuccess\n        ? data.videos.map((video) => (\n            <TrendingCard key={video.id} video={video} />\n          ))\n        : null}\n    </Wrapper>\n  );\n}\n\nexport default SearchResults;\n"]},"metadata":{},"sourceType":"module"}